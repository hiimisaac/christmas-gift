<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Merry Christmas!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@700&family=Poppins:wght@400;600;900&display=swap" rel="stylesheet">
    
    <style>
        /* --- LAYOUT & SCROLL FIXES --- */
        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
            overscroll-behavior: none;
            touch-action: manipulation;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
            -webkit-tap-highlight-color: transparent;
        }

        .font-christmas { font-family: 'Mountains of Christmas', cursive; }

        /* --- DECORATIONS --- */
        .light-wire {
            position: absolute;
            top: -15px;
            left: -5%;
            width: 110%;
            height: 100px;
            border-radius: 50%;
            border-bottom: 3px solid #222;
            z-index: 10;
            pointer-events: none;
        }
        .light-bulb {
            position: absolute;
            top: 100%;
            width: 12px;
            height: 20px;
            border-radius: 50%;
            animation: glow 1.5s infinite alternate;
        }

        /* --- TREES --- */
        .tree-container {
            position: absolute;
            bottom: 10%; 
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 5;
            pointer-events: none;
        }
        .tree-layer {
            width: 0;
            height: 0;
            border-left: solid transparent;
            border-right: solid transparent;
            border-bottom: solid #1a472a;
            margin-bottom: -15px;
        }
        .tree-layer.top { border-bottom-width: 40px; border-left-width: 20px; border-right-width: 20px; border-bottom-color: #2d6a4f; z-index: 3;}
        .tree-layer.middle { border-bottom-width: 60px; border-left-width: 30px; border-right-width: 30px; border-bottom-color: #255940; z-index: 2;}
        .tree-layer.bottom { border-bottom-width: 80px; border-left-width: 40px; border-right-width: 40px; z-index: 1;}
        .tree-trunk { width: 15px; height: 25px; background: #4a3728; margin-top: 5px; }
        .tree-star { color: gold; font-size: 20px; position: absolute; top: -20px; text-shadow: 0 0 10px gold; }

        /* --- GIFT BOX --- */
        .gift-wrapper {
            position: relative;
            z-index: 50;
            transition: transform 0.1s;
        }
        @media (max-width: 640px) { .gift-wrapper { transform: scale(0.8); } }
        
        .gift-box {
            width: 160px;
            height: 160px;
            background: #c0392b;
            position: relative;
            box-shadow: 0 15px 30px rgba(0,0,0,0.5);
            border-radius: 4px;
        }
        .gift-lid {
            width: 180px;
            height: 45px;
            background: #e74c3c;
            position: absolute;
            top: -45px;
            left: -10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border-radius: 4px;
            z-index: 11;
        }
        .ribbon-vertical {
            position: absolute;
            width: 35px;
            height: 100%;
            background: #F1C40F;
            border-left: 2px solid #f39c12;
            border-right: 2px solid #f39c12;
            left: 50%;
            transform: translateX(-50%);
        }
        .ribbon-horizontal {
            position: absolute;
            width: 100%;
            height: 35px;
            background: #F1C40F;
            border-top: 2px solid #f39c12;
            border-bottom: 2px solid #f39c12;
            top: 50%;
            transform: translateY(-50%);
        }
        .bow {
            position: absolute;
            top: -75px;
            left: 50%;
            transform: translateX(-50%);
            width: 90px;
            height: 50px;
            z-index: 12;
        }
        .bow::before, .bow::after {
            content: '';
            position: absolute;
            width: 50px;
            height: 50px;
            border: 10px solid #F1C40F;
            border-radius: 50% 50% 0 50%;
            top: 15px;
        }
        .bow::before { left: 0; transform: rotate(45deg); }
        .bow::after { right: 0; transform: rotate(135deg); }

        .gift-tag {
            position: absolute;
            top: 30px;
            right: -25px;
            background: white;
            padding: 5px 10px;
            transform: rotate(15deg);
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
            font-family: 'Mountains of Christmas', cursive;
            color: #c0392b;
            font-weight: bold;
            z-index: 20;
            font-size: 1.1rem;
            white-space: nowrap;
        }

        /* --- ANIMATIONS --- */
        @keyframes glow { from {opacity: 0.5; box-shadow: 0 0 5px currentColor;} to {opacity: 1; box-shadow: 0 0 20px currentColor;} }
        @keyframes snowfall { from {transform: translateY(-10px) rotate(0deg);} to {transform: translateY(110vh) rotate(360deg);} }
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-3px, -3px) rotate(-2deg); }
            20% { transform: translate(-5px, 0px) rotate(2deg); }
            30% { transform: translate(5px, 3px) rotate(0deg); }
            40% { transform: translate(3px, -1px) rotate(2deg); }
            50% { transform: translate(-3px, 3px) rotate(-2deg); }
            60% { transform: translate(-5px, 1px) rotate(0deg); }
            70% { transform: translate(5px, 1px) rotate(-2deg); }
            80% { transform: translate(-1px, -1px) rotate(2deg); }
            90% { transform: translate(3px, 3px) rotate(0deg); }
            100% { transform: translate(1px, -3px) rotate(-2deg); }
        }
        .shaking { animation: shake 0.5s; animation-iteration-count: 1; }
        .animate-bounce-slow { animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

    </style>
</head>
<body class="flex flex-col items-center justify-center relative">

    <iframe id="music-frame" 
        class="absolute top-0 left-0 w-1 h-1 opacity-0 pointer-events-none"
        src="" 
        allow="autoplay; encrypted-media" 
        allowfullscreen>
    </iframe>

    <div id="snow-container" class="absolute inset-0 pointer-events-none z-20 overflow-hidden"></div>
    <div class="light-wire" id="lights"></div>
    <div class="absolute bottom-0 w-full h-16 bg-gradient-to-t from-white via-gray-100 to-transparent z-10 pointer-events-none"></div>

    <div class="tree-container left-[10%] scale-75 blur-[1px] opacity-80"><div class="tree-layer top"></div><div class="tree-layer middle"></div><div class="tree-layer bottom"></div><div class="tree-trunk"></div></div>
    <div class="tree-container right-[10%] scale-75 blur-[1px] opacity-80"><div class="tree-layer top"></div><div class="tree-layer middle"></div><div class="tree-layer bottom"></div><div class="tree-trunk"></div></div>
    <div class="tree-container left-[5%] bottom-[12%] scale-90"><div class="tree-star">‚òÖ</div><div class="tree-layer top"></div><div class="tree-layer middle"></div><div class="tree-layer bottom"></div><div class="tree-trunk"></div></div>
    <div class="tree-container right-[5%] bottom-[12%] scale-90"><div class="tree-star">‚òÖ</div><div class="tree-layer top"></div><div class="tree-layer middle"></div><div class="tree-layer bottom"></div><div class="tree-trunk"></div></div>

    <canvas id="confetti-canvas" class="absolute inset-0 pointer-events-none z-[60]"></canvas>

    <div class="gift-wrapper cursor-pointer animate-bounce-slow" id="giftBox" onclick="openGift()">
        <div class="bow"></div>
        <div class="gift-tag">To: My Wife</div>
        <div class="gift-lid"><div class="ribbon-vertical"></div></div>
        <div class="gift-box">
            <div class="ribbon-vertical"></div>
            <div class="ribbon-horizontal"></div>
        </div>
        <div class="absolute -bottom-20 w-full text-center text-white font-bold text-xl drop-shadow-md animate-pulse">
            Tap to Open!
        </div>
    </div>

    <div id="ticket" class="hidden relative z-[100] bg-white p-6 md:p-8 rounded-xl shadow-2xl border-4 border-red-600 max-w-[90%] w-[500px] text-center transform scale-0">
        <div class="font-christmas text-3xl md:text-4xl text-red-600 mb-2">Merry Christmas!</div>
        <div class="text-gray-500 italic text-sm md:text-lg mb-4">We're going... UP!</div>
        
        <h1 class="text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-500 mb-2 leading-tight">
            FORREST FRANK
        </h1>
        
        <div class="text-2xl md:text-3xl font-bold text-slate-800 uppercase tracking-wide">Raleigh, NC</div>
        
        <div class="mt-6 pt-6 border-t-2 border-dashed border-gray-200">
            <p class="text-lg md:text-xl text-gray-600 font-semibold">Pack your bags, my love!</p>
            <p class="text-md text-gray-400 mt-2">Best. Gift. Ever.</p>
        </div>

        <button onclick="startMusicForce()" class="mt-4 px-4 py-2 bg-gray-100 text-gray-600 rounded-full text-sm font-semibold hover:bg-gray-200 transition">
            üéµ Play Song
        </button>
    </div>

    <script>
        // --- 1. AD-FREE PLAYER LOGIC ---
        // Using "Invidious" (yewtu.be) which mirrors YouTube but strips ads
        function playMusic() {
            const frame = document.getElementById('music-frame');
            // wCw-W-2Rs0k is the ID for "UP!"
            // autoplay=1 starts it, listen=1 optimizes for audio
            frame.src = "https://yewtu.be/embed/wCw-W-2Rs0k?autoplay=1&controls=0&listen=1";
        }

        function startMusicForce() {
            playMusic();
        }

        // --- 2. INTERACTION ---
        function openGift() {
            const giftBox = document.getElementById('giftBox');
            const ticket = document.getElementById('ticket');

            // Trigger music
            playMusic();

            // Animate
            giftBox.classList.remove('animate-bounce-slow');
            giftBox.classList.add('shaking');

            setTimeout(() => {
                giftBox.style.transition = "all 0.5s ease-out";
                giftBox.style.transform = "scale(1.5) rotate(15deg)";
                giftBox.style.opacity = "0";

                setTimeout(() => {
                    giftBox.style.display = 'none';
                    ticket.classList.remove('hidden');
                    void ticket.offsetWidth; 
                    
                    ticket.style.transition = "transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)";
                    ticket.style.transform = "scale(1)";
                    
                    startConfetti();
                }, 300);
            }, 500);
        }

        // --- 3. SCENERY ---
        function createSnow() {
            const container = document.getElementById('snow-container');
            const icons = ['‚ùÑ', '‚Ä¢', '‚ùÖ'];
            const count = window.innerWidth < 600 ? 30 : 50;
            for (let i = 0; i < count; i++) {
                const flake = document.createElement('div');
                flake.innerHTML = icons[Math.floor(Math.random() * icons.length)];
                flake.className = 'absolute text-white select-none opacity-0';
                flake.style.left = Math.random() * 100 + '%';
                flake.style.fontSize = (Math.random() * 15 + 10) + 'px';
                const duration = Math.random() * 5 + 5;
                flake.style.animation = `snowfall ${duration}s linear infinite`;
                flake.style.animationDelay = (Math.random() * 5) + 's';
                flake.style.opacity = Math.random() * 0.7 + 0.3;
                container.appendChild(flake);
            }
        }
        createSnow();

        function createLights() {
            const wire = document.getElementById('lights');
            const colors = ['#e74c3c', '#f1c40f', '#3498db', '#2ecc71'];
            for(let i=0; i<20; i++) {
                const bulb = document.createElement('div');
                bulb.className = 'light-bulb';
                bulb.style.left = (i * 5 + 2) + '%';
                const color = colors[i % colors.length];
                bulb.style.backgroundColor = color;
                bulb.style.color = color;
                bulb.style.animationDelay = Math.random() + 's';
                wire.appendChild(bulb);
            }
        }
        createLights();

        // --- 4. CONFETTI ---
        const canvas = document.getElementById('confetti-canvas');
        const ctx = canvas.getContext('2d');
        let pieces = [];
        const confettiColors = ['#e74c3c', '#f1c40f', '#2ecc71', '#3498db', '#fff'];

        function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        function startConfetti() {
            for (let i = 0; i < 200; i++) {
                pieces.push({
                    x: window.innerWidth / 2,
                    y: window.innerHeight / 2,
                    w: Math.random() * 8 + 4,
                    h: Math.random() * 8 + 4,
                    vx: (Math.random() - 0.5) * (window.innerWidth < 600 ? 15 : 25),
                    vy: (Math.random() - 0.5) * 25 - 15,
                    color: confettiColors[Math.floor(Math.random() * confettiColors.length)],
                    rot: Math.random() * 360,
                    rotSpeed: (Math.random() - 0.5) * 10
                });
            }
            animateConfetti();
        }

        function animateConfetti() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            let active = false;
            pieces.forEach((p) => {
                p.x += p.vx;
                p.y += p.vy;
                p.vy += 0.5;
                p.vx *= 0.95;
                p.rot += p.rotSpeed;
                if (p.y < canvas.height + 20) {
                    active = true;
                    ctx.save();
                    ctx.translate(p.x, p.y);
                    ctx.rotate(p.rot * Math.PI / 180);
                    ctx.fillStyle = p.color;
                    ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
                    ctx.restore();
                }
            });
            if (active) requestAnimationFrame(animateConfetti);
        }
    </script>
</body>
</html>
